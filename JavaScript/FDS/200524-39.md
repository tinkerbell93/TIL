# JavaScript lesson 39

- `<a href='/a.html'>`ì—ì„œ `/`ì˜ ì˜ë¯¸ : rootí´ë”
- `<a href='./a.html'>`ì—ì„œ `./`ì˜ ì˜ë¯¸ : index.html ê¸°ì¤€ìœ¼ë¡œ ì°¾ì•„ê°„ í´ë”

## DOM

## 1. ë…¸ë“œ

#### 1.1. HTML ìš”ì†Œì™€ ë…¸ë“œ ê°ì²´

![img](https://poiemaweb.com/assets/fs-images/39-2.png)

Bë¥¼ ì°¾ì•„ê°€ê¸° ìœ„í•´ Aë¶€í„° ì°¾ì•„ ê°„ë‹¤.



#### 1.2 ë…¸ë“œ ê°ì²´ì˜ íƒ€ì…

**[ ë…¸ë“œ ì¢…ë¥˜ ]**

- ë¬¸ì„œ ë…¸ë“œ : document, DOMì„ ê°€ì§, DOMíŠ¸ë¦¬ì˜ ë£¨íŠ¸, windowì— í”„ë¡œí¼í‹°ë¡œ ê°€ì§€ê³  ìˆë‹¤(windowë¥¼ ë‹«ê¸°ì „ê¹Œì§€ ì‚´ì•„ìˆìŒ).

- ìš”ì†Œ ë…¸ë“œ : ë¬¸ì„œ ë…¸ë“œë¥¼ í†µí•´ ìš”ì†Œ ë…¸ë“œë¥¼ ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤.

- í…ìŠ¤íŠ¸ ë…¸ë“œ : ìš”ì†Œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œ, ìš”ì†Œ ë…¸ë“œë¡œ ì ‘ê·¼í•˜ë©´ í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤.

  ê³µë°± - ìš”ì†Œë…¸ë“œ ì‚¬ì´ì‚¬ì´ì— ê»´ìˆë‹¤. ì—”í„°, ë„ì–´ì“°ê¸°

- ì–´íŠ¸ë¦¬ë·°íŠ¸ ë…¸ë“œ : ìš”ì†Œ ë…¸ë“œì˜ í˜•ì œ ë…¸ë“œ

HTML Collection, NodeList ì‚¬ìš©í•˜ì§€ ë§ê³  ë°°ì—´ë¡œ ë³€í™˜ì‹œí‚¤ê³  ì‚¬ìš©í•œë‹¤.

children : ê³µë°±ì„ ì œì™¸í•œ ìì‹ ë…¸ë“œë“¤ì„ ì¶œë ¥í•´ì¤€ë‹¤.



**[ CSSì˜ ì ‘ê·¼ì€? ]**

HTMLì„ ë©ˆì¶”ê³  CSSë¥¼ ê°€ì ¸ì˜¨ë‹¤. ë‹¤ì‹œ ì„œë²„ì— ê°€ì§€ëŸ¬ ê°„ë‹¤. ì„œë²„ì— CSS ë‹¬ë¼ê³  í¸ì§€ë¥¼ ë‚¨ê¸°ê³  í´ë¼ëŠ” ëŒì•„ì˜¨ë‹¤. ì´í›„ ì„œë²„ê°€ ì†ŒìŠ¤ë¥¼ 010101ë¡œ ê°€ì ¸ì˜¨ë‹¤. í´ë¼ëŠ” íŒŒì‹± í›„ì— CSSOMì„ ë§Œë“ ë‹¤.



**[ scriptëŠ”? ]**

ASTë¥¼ ë§Œë“¤ì–´ì„œ íƒœê·¸ê°€ ì§€ì •ëœ ì§€ì ì—ì„œ ì‹¤í–‰ëœë‹¤.



DOM tree(HTML íŒŒì‹±ê²°ê³¼) + CSSOM tree (CSS íŒŒì‹± ê²°ê³¼) = Render tree(ë Œë”ë§ í•˜ê¸° ìœ„í•œ íŠ¸ë¦¬)

![img](https://poiemaweb.com/assets/fs-images/38-12.png)

ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ì˜í•´ DOM tree ë˜ëŠ” CSSOM treeê°€ ë°”ë€Œë©´ Render tree ìˆ˜ì •ë˜ì–´ Layoutì„ ë‹¤ì‹œ ê³„ì‚°í•œë‹¤. = ë¦¬í”Œë¡œìš°, ê·¸ë¦¬ê³  í™”ë©´ì— ë‹¤ì‹œ ê·¸ë ¤ì§„ë‹¤ = ë¦¬í˜ì¸íŠ¸					

=> **ë¦¬í”Œë¡œìš°ê°€ ìµœëŒ€í•œ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤.**



## 2. ìš”ì†Œ ë…¸ë“œ ì·¨ë“

#### 2.1 idë¥¼ ì´ìš©í•œ ìš”ì†Œ ë…¸ë“œ ì·¨ë“

```js
document.getElementById();
```

windowì— ìˆëŠ” documentì— ê°€ì„œ getElementById ë©”ì†Œë“œê°€ ì¸ìˆ˜ë¥¼ ì°¾ìœ¼ëŸ¬ ê°„ë‹¤. ì—†ìœ¼ë©´ nullì„ ë°˜í™˜í•œë‹¤.

```html
<!DOCTYPE html>
<html>
  <body>
    <ul>
      <li id="apple">Apple</li>
      <li id="banana">Banana</li>
      <li id="orange">Orange</li>
    </ul>
    <script>
      // id ê°’ì´ 'grape'ì¸ ìš”ì†Œ ë…¸ë“œë¥¼ íƒìƒ‰í•˜ì—¬ ë°˜í™˜í•œë‹¤.
      // nullì´ ë°˜í™˜ëœë‹¤.
      const $elem = document.getElementById('grape');

      // ì·¨ë“í•œ ìš”ì†Œ ë…¸ë“œì˜ style.color í”„ë¡œí¼í‹° ê°’ì„ ë³€ê²½í•œë‹¤.
      $elem.style.color = 'red';
      // -> TypeError: Cannot read property 'style' of null
    </script>
  </body>
</html>
```

ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ëŠ” ë‹«ëŠ” ë°”ë”” íƒœê·¸ ìœ„ì— ë‘”ë‹¤.



```html
console.log(fruits);
<!DOCTYPE html>
<html>
  <body>
    <ul id = "fruits">
      <li id="apple">Apple</li>
      <li id="banana">Banana</li>
      <li id="orange">Orange</li>
    </ul>
    <script>
      console.log('fruits');	// idëŠ” ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì°¸ì¡°í–ˆì„ë•Œ ì „ì—­ê°ì²´ë¡œ ë§Œë“ ë‹¤.
    </script>
  </body>
</html>
```



#### 2.2 íƒœê·¸ ì´ë¦„ì„ ì´ìš©í•œ ìš”ì†Œ ë…¸ë“œ ì·¨ë“,  2.3 classë¥¼ ì´ìš©í•œ ìš”ì†Œ ë…¸ë“œ ì·¨ë“

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <ul id="fruitsId" class="fruitsClass">
      <li id="apple">Apple</li>
      <li id="banana">Banana</li>
      <li id="orange">Orange</li>
    </ul>
    <script>
      // idë¡œ ê°€ì ¸ì˜¤ê¸°
      // ì¸ìˆ˜: ì•„ì´ë””, ë°˜í™˜: ë…¸ë“œê°ì²´
      // $ : ë…¸ë“œ ê°ì²´ ì»¨ë²¤ì…˜
      const $fruitsId = document.getElementById('fruits');
      console.dir($fruitsId); // ul#fruits

      console.dir($frufruitsIdits.childNodes);  // NodeList(7), ìœ ì‚¬ë°°ì—´ê°ì²´ì´ë©´ì„œ ë¦¬í„°ëŸ¬ë¸” => ë°°ì—´ë¡œ ë³€ê²½ê°€ëŠ¥
      console.dir([ ...$fruitsId.childNodes ]);  // Array(7) => ê³µë°±ë¬¸ì í¬í•¨

      console.dir([ ...$fruitsId.children ]);   // Array(3) => ê³µë°±ë¬¸ì ë¯¸í¬í•¨
      
      // classë¡œ ê°€ì ¸ì˜¤ê¸°
      const $fruitsClass = document.querySelector('.fruitsClass');
      $fruitsClass.style.color = 'red';

      // ì¸ìˆ˜ë¡œ ì¤€ í•´ë‹¹ í´ë˜ìŠ¤ ëª¨ë‘ ê°€ì ¸ì˜¤ê¸°
      // ë¹ˆê³µê°„ í…ìŠ¤íŠ¸ ë…¸íŠ¸ëŠ” ì„ íƒë˜ì§€ ì•ŠëŠ”ë‹¤.
      document.querySelectorAll()
    </script>
  </body>
</html>
```

### 3. ë…¸ë“œ íƒìƒ‰

![img](https://poiemaweb.com/assets/fs-images/39-9.png)



### 6 DOM ì¡°ì‘

`.firstchild.nodeValue` ëŠ” `.textContent`ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- `textContent` : ì§€ì •í•œ ìš”ì†Œì˜ ì»¨í…ì¸ ì˜ì—­ì„ ëª¨ë‘ ê°€ì ¸ì˜¨ë‹¤. 

  í…ìŠ¤íŠ¸ë¥¼ ê°€ë¼ë‚€ë‹¤ = ì‹¹ë‹¤ ì§€ìš°ê³  ë‹¤ì‹œ ì±„ì›€ ê·¸ëŸ¬ë‚˜ íƒœê·¸ë„ í…ìŠ¤íŠ¸ë¡œ ì·¨ê¸‰ëœë‹¤.

  ```js
  document.getElementById('foo').textContent = '<h1>Hi</h1>'
  ```

  

- `innderHTML` : íƒœê·¸ê°€ í¬í•¨ë˜ì–´ ì¶œë ¥ëœë‹¤.

  íƒœê·¸ê°€ ë‹¬ë ¤ìˆëŠ” ë¬¸ìì—´ì„ ë„£ì„ë•Œ ì‚¬ìš©í•œë‹¤.

  ```js
  document.getElementById('foo').innerHTML = '<h1>Hi</h1>'
  ```

  

#### 6.1. innerHTML

**1.ë‹¨ì ** : ìš”ì†Œë…¸ë“œë¥¼ ì¶”ê°€í• ë•Œ ê¸°ì¡´ ìš”ì†Œë¥¼ ì§€ìš°ê³  ë‹¤ì‹œ ìƒì„±í•œë‹¤.

ìš”ì†Œ ë…¸ë“œì˜ innerHTML í”„ë¡œí¼í‹°ì— ë¬¸ìì—´ì„ í• ë‹¹í•˜ë©´ ìš”ì†Œ ë…¸ë“œì˜ ëª¨ë“  ìì‹ ë…¸ë“œê°€ ì œê±°ë˜ê³  í• ë‹¹í•œ ë¬¸ìì—´ì— í¬í•¨ë˜ì–´ ìˆëŠ” HTML ë§ˆí¬ì—…ì´ íŒŒì‹±ë˜ì–´ ìš”ì†Œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¡œ DOMì— ë°˜ì˜ëœë‹¤.

`$fruits.innerHTML += '<li class="banana">Banana</li>';`ì€ DOMì—ì„œ ì§€ìš°ê³  ë‹¤ì‹œ ì¶”ê°€í•˜ëŠ” ë²ˆê±°ë¡œìš´ ì‘ì—…ì„ í•œë‹¤.

```html
<!DOCTYPE html>
<html>
  <body>
    <div id="foo">Hello</div>
  </body>
  <script>
    // innerHTMLë¡œ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ë¥¼ ì‚½ì…í•˜ì—¬ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.
    // HTML5ëŠ” innerHTML í”„ë¡œí¼í‹°ë¡œ ì‚½ì…ëœ script ìš”ì†Œ ë‚´ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
    document.getElementById('foo').innerHTML = '<script>alert("XSS!")</script>';
  </script>
</html>
```

```html
<!DOCTYPE html>
<html>
  <body>
    <div id="foo">Hello</div>
  </body>
  <script>
    // ì—ëŸ¬ ì´ë²¤íŠ¸ë¥¼ ê°•ì œ ë°œìƒì‹œì¼œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.
    document.getElementById('foo').innerHTML
      = `<img src="x" onerror="alert('XSS')">`;
  </script>
</html>
```

**2.ë‹¨ì ** : img íƒœê·¸ ë‚´ì— ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë˜ê²Œ í•˜ì—¬ í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŒ… ê³µê²©ì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.

=> ì‚´ê· ì´ í•„ìš”í•˜ë‹¤.

**&#10071; HTML ìƒˆë‹ˆí‹°ì œì´ì…˜(HTML sanitization)**

 í¬ë¡œìŠ¤ ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŒ… ê³µê²©ì„ ì˜ˆë°©í•˜ê¸° ìœ„í•´ ì ì¬ì  ìœ„í—˜ì„ ì œê±°í•˜ëŠ” ê¸°ëŠ¥ì„ ë§í•œë‹¤. ìƒˆë‹ˆí‹°ì œì´ì…˜ í•¨ìˆ˜ë¥¼ ì§ì ‘ êµ¬í˜„í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ [DOMPurify](https://github.com/cure53/DOMPurify) ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œ

DOMPurifyëŠ” ì•„ë˜ì™€ ê°™ì´ ì ì¬ì  ìœ„í—˜ì„ ë‚´í¬í•œ HTML ë§ˆí¬ì—…ì„ ìƒˆë‹ˆí‹°ì œì´ì…˜(ì‚´ê· )í•˜ì—¬ ì ì¬ì  ìœ„í—˜ì„ ì œê±°í•œë‹¤.

```js
DOMPurify.sanitize('<img src=x onerror=alert(1)//>'); // => <img src="x">
```

**3.ë‹¨ì ** : ì‚½ì…ë˜ëŠ” ìœ„ì¹˜ë¥¼ ì§€ì •í•  ìˆ˜ ì—†ë‹¤. innerHTMLì„ ì¶”ê°€í•˜ë©´ ë¬´ì¡°ê±´ ë§ˆì§€ë§‰ì— ì¶”ê°€ëœë‹¤.



#### 6.3 ë…¸ë“œ ìƒì„±ê³¼ ì¶”ê°€

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>Apple</li>
    </ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    // 1. ìš”ì†Œ ë…¸ë“œ ìƒì„±
    const $li = document.createElement('li');

    // 2. í…ìŠ¤íŠ¸ ë…¸ë“œ ìƒì„±
    const textNode = document.createTextNode('Banana');

    // 3. í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ìš”ì†Œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€
    $li.appendChild(textNode);

    // 4. ìš”ì†Œ ë…¸ë“œë¥¼ DOMì— ì¶”ê°€
    $fruits.appendChild($li);
  </script>
</html>
```

1. ìš”ì†Œ ë…¸ë“œ ìƒì„±

![img](https://poiemaweb.com/assets/fs-images/39-18.png)

2. í…ìŠ¤íŠ¸ ë…¸ë“œ ìƒì„±

![img](https://poiemaweb.com/assets/fs-images/39-19.png)

3. í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ìš”ì†Œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€

![img](https://poiemaweb.com/assets/fs-images/39-20.png)



4. ìš”ì†Œ ë…¸ë“œë¥¼ DOMì— ì¶”ê°€

![img](https://poiemaweb.com/assets/fs-images/39-21.png)





```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>apple</li>
    </ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    const $li = document.createElement('li');
    console.log($li);	// 1. ê¶ê¸ˆì‚¬í•­

    const textNode = document.createTextNode('Banana');
    console.log(textNode);

    $li.appendChild(textNode);

    $fruits.appendChild($li);
  </script>
</html>
```

**ğŸ™„ ê¶ê¸ˆì‚¬í•­**

---

**Q.** textNode ìƒì„± ì „ `<li></li>`ì˜€ì§€ë§Œ ìƒì„± í›„` <li>banana</li>`ë¡œ ì¶œë ¥ëœë‹¤. ì•„ë§ˆë„ Liveë¼ì„œ ê·¸ëŸ°ê°€????

**A.** 

---

#### 6.4 ë³µìˆ˜ì˜ ë…¸ë“œ ìƒì„±ê³¼ ì¶”ê°€

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits"></ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    ['Apple', 'Banana', 'Orange'].forEach(text => {
      // 1. ìš”ì†Œ ë…¸ë“œ ìƒì„±
      const $li = document.createElement('li');

      // 2. í…ìŠ¤íŠ¸ ë…¸ë“œ ìƒì„±
      const $textNode = document.createTextNode(text);

      // 3. í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ìš”ì†Œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€
      $li.appendChild($textNode);

      // 4. ìš”ì†Œ ë…¸ë“œë¥¼ DOMì— ì¶”ê°€
      $fruits.appendChild($li);
    });
  </script>
</html>
```

ìœ„ ì˜ˆì œëŠ” 3ê°œì˜ ìš”ì†Œ ë…¸ë“œë¥¼ ìƒì„±í•˜ì—¬ DOMì— 3ë²ˆ ì¶”ê°€í•˜ë¯€ë¡œ â€œ4. ìš”ì†Œ ë…¸ë“œë¥¼ DOMì— ì¶”ê°€â€ì—ì„œ DOMì´ 3ë²ˆ ë³€ê²½ëœë‹¤. ë¦¬í”Œë¡œìš° 3ë²ˆ ë°œìƒí•˜ë¯€ë¡œ ê¸°ì¡´ DOMì— ìš”ì†Œ ë…¸ë“œë¥¼ ë°˜ë³µí•˜ì—¬ ì¶”ê°€í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤.



**[ DocumentFragment ë…¸ë“œë¥¼ í†µí•´ í•´ê²° ]**

DocumentFragment ë…¸ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¦¬í”Œë¡œìš°ë¥¼ ìµœì†Œí™”í•œë‹¤.

![img](https://poiemaweb.com/assets/fs-images/39-22.png)

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits"></ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    // DocumentFragment ë…¸ë“œ ìƒì„±
    const $fragment = document.createDocumentFragment();

    ['Apple', 'Banana', 'Orange'].forEach(text => {
      // 1. ìš”ì†Œ ë…¸ë“œ ìƒì„±
      const $li = document.createElement('li');

      // 2. í…ìŠ¤íŠ¸ ë…¸ë“œ ìƒì„±
      const $textNode = document.createTextNode(text);

      // 3. í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ìš”ì†Œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€
      $li.appendChild($textNode);

      // 4. ìš”ì†Œ ë…¸ë“œë¥¼ DocumentFragment ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€
      $fragment.appendChild($li);
    });

    // 5. DocumentFragment ë…¸ë“œë¥¼ DOMì— ì¶”ê°€
    $fruits.appendChild($fragment);
  </script>
</html>
```

#### 6.5 ë…¸ë“œ ì‚½ì…

##### 6.5.1. ë§ˆì§€ë§‰ ë…¸ë“œë¡œ ì¶”ê°€

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>Apple</li>
      <li>Banana</li>
    </ul>
  </body>
  <script>
    // ìš”ì†Œ ë…¸ë“œ ìƒì„±
    const $li = document.createElement('li');

    // í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ $li ë…¸ë“œì˜ ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€
    $li.appendChild(document.createTextNode('Orange'));

    // $li ë…¸ë“œë¥¼ ul#fruits ìš”ì†Œì˜ ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€
    document.getElementById('fruits').appendChild($li);
  </script>
</html>
```

##### 6.5.2 ì§€ì •í•œ ìœ„ì¹˜ì— ë…¸ë“œ ì‚½ì…

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>Apple</li>
      <li>Banana</li>
    </ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    // ìš”ì†Œ ë…¸ë“œ ìƒì„±
    const $li = document.createElement('li');

    // í…ìŠ¤íŠ¸ ë…¸ë“œë¥¼ $li ë…¸ë“œì˜ ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œë¡œ ì¶”ê°€
    $li.appendChild(document.createTextNode('Orange'));

    // $li ë…¸ë“œë¥¼ $fruitsì˜ ë§ˆì§€ë§‰ ìì‹ ìš”ì†Œ ì•ì— ì‚½ì…
    $fruits.insertBefore($li, $fruits.lastElementChild);
    // Apple - Orange - Banana
  </script>
</html>
```



#### 6.6 ë…¸ë“œ ì´ë™

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>Apple</li>
      <li>Banana</li>
      <li>Orange</li>
    </ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    // ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë…¸ë“œë¥¼ ì·¨ë“
    const [$apple, $banana, ] = $fruits.children;	// 1.ê¶ê¸ˆì‚¬í•­
    console.log($fruits.children); // HTMLCollection(3)Â [li, li, li]
    console.log($apple);  // <li>Apple</li>
    console.log($banana); // <li>Banana</li>

    // ì´ë¯¸ ì¡´ì¬í•˜ëŠ” $apple ìš”ì†Œë¥¼ $fruits ìš”ì†Œì˜ ë§ˆì§€ë§‰ ë…¸ë“œë¡œ ì´ë™
    $fruits.appendChild($apple); // Banana - Orange - Apple

    // ì´ë¯¸ ì¡´ì¬í•˜ëŠ” $banana ìš”ì†Œë¥¼ $fruits ìš”ì†Œì˜ ë§ˆì§€ë§‰ ìì‹ ë…¸ë“œ ì•ìœ¼ë¡œ ì´ë™
    $fruits.insertBefore($banana, $fruits.lastElementChild);
    // Orange - Banana - Apple
  </script>
</html>
```

**ğŸ™„ ê¶ê¸ˆì‚¬í•­**

---

**Q.** `const [$apple, $banana, ] = $fruits.children;` `[$apple, $banana]`ë¡œ ì‚¬ìš©í•˜ì§€ ì•Šì€ ì´ìœ ëŠ”????

**A.** 

---



#### 6.7 ë…¸ë“œ ë³µì‚¬

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>Apple</li>
    </ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');
    const $apple = $fruits.firstElementChild;

    // $apple ìš”ì†Œë¥¼ ì–•ì€ ë³µì‚¬í•˜ì—¬ ì‚¬ë³¸ ìƒì„±. í…ìŠ¤íŠ¸ ë…¸ë“œê°€ ì—†ëŠ” ì‚¬ë³¸ì´ ìƒì„±ëœë‹¤.
    const $shallowClone = $apple.cloneNode();
    // ì‚¬ë³¸ ìš”ì†Œ ë…¸ë“œì˜ í…ìŠ¤íŠ¸ ì¶”ê°€
    $shallowClone.textContent = 'Banana';
    // ì‚¬ë³¸ ìš”ì†Œ ë…¸ë“œë¥¼ DOMì— ì¶”ê°€
    $fruits.appendChild($shallowClone);

    // $fruits ìš”ì†Œë¥¼ ê¹Šì€ ë³µì‚¬í•˜ì—¬ ëª¨ë“  ìì† ë…¸ë“œê°€ í¬í•¨ëœ ì‚¬ë³¸ ìƒì„±
    const $deepClone = $fruits.cloneNode(true);
    // ì‚¬ë³¸ ìš”ì†Œ ë…¸ë“œë¥¼ DOMì— ì¶”ê°€
    $fruits.appendChild($deepClone);
  </script>
</html>
```

**ğŸ™„ ê¶ê¸ˆì‚¬í•­**

---

**Q.** ê²°ê³¼ë¬¼????

```html
<li>Apple</li>
<li>Banana</li>
<li>Apple</li>
<li>Banana</li>
```

**A.** 

---



####  6.8 ë…¸ë“œ êµì²´

`Node.prototype.replaceChild(newChild, oldChild)` ë©”ì„œë“œëŠ” ìì‹ ì„ í˜¸ì¶œí•œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¥¼ ë‹¤ë¥¸ ë…¸ë“œë¡œ êµì²´í•œë‹¤.

```html
Node.prototype.replaceChild(newChild, oldChild) ë©”ì„œë“œëŠ” ìì‹ ì„ í˜¸ì¶œí•œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œë¥¼ ë‹¤ë¥¸ ë…¸ë“œë¡œ êµì²´í•œë‹¤. ì²«ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ newChildì—ëŠ” êµì²´í•  ìƒˆë¡œìš´ ë…¸ë“œë¥¼ ì „ë‹¬í•˜ê³ , ë‘ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ oldChildì—ëŠ” ì´ë¯¸ ì¡´ì¬í•˜ëŠ” êµì²´ë  ë…¸ë“œë¥¼ ì „ë‹¬í•œë‹¤. ë§¤ê°œë³€ìˆ˜ oldChildì—ê²Œ ì „ë‹¬í•œ ë…¸ë“œëŠ” replaceChild ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ë…¸ë“œì˜ ìì‹ ë…¸ë“œì´ì–´ì•¼ í•œë‹¤.

ì¦‰, replaceChild ë©”ì„œë“œëŠ” ë¶€ëª¨ ë…¸ë“œì˜ ìì‹ì¸ oldChild ë…¸ë“œë¥¼ newChild ë…¸ë“œë¡œ êµì²´í•œë‹¤. ì´ë•Œ oldChild ë…¸ë“œëŠ” DOMì—ì„œ ì œê±°ëœë‹¤.

<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>Apple</li>
    </ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    // ê¸°ì¡´ ë…¸ë“œë¥¼ ì¹˜í™˜í•  ìš”ì†Œ ë…¸ë“œ
    const $newChild = document.createElement('li');
    $newChild.textContent = 'Banana';

    // $fruits ìš”ì†Œì˜ ì²«ë²ˆì§¸ ìš”ì†Œë¥¼ $newChildë¡œ êµì²´
    $fruits.replaceChild($newChild, $fruits.firstElementChild);
  </script>
</html>
```



####  6.9. ë…¸ë“œ ì‚­ì œ

`Node.prototype.removeChild(child)` ë©”ì„œë“œëŠ” ë§¤ê°œë³€ìˆ˜ childì—ê²Œ ì „ë‹¬í•œ ë…¸ë“œë¥¼ DOMì—ì„œ ì‚­ì œí•œë‹¤.

```html
<!DOCTYPE html>
<html>
  <body>
    <ul id="fruits">
      <li>Apple</li>
      <li>Banana</li>
    </ul>
  </body>
  <script>
    const $fruits = document.getElementById('fruits');

    // $fruits ìš”ì†Œì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ DOMì—ì„œ ì‚­ì œ
    $fruits.removeChild($fruits.lastElementChild);
  </script>
</html>
```



### 7. ì–´íŠ¸ë¦¬ë·°íŠ¸

####  7.1. ì–´íŠ¸ë¦¬ë·°íŠ¸ ë…¸ë“œì™€ attributes í”„ë¡œí¼í‹°

```html
<input id="user" type="text" value="ungmo2">
```

**[ ëª¨ë“  HTML ìš”ì†Œì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš© ]**

ê¸€ë¡œë²Œ ì–´íŠ¸ë¦¬ë·°íŠ¸(id, class, style, titile, lang, tabindex, draggable, hidden ë“±)

ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì–´íŠ¸ë¦¬ë·°íŠ¸(onclick, onchange, onfocus, onblur, oninput, onkeypress, onkeydown, onkeyup, onmouseover, onsubmit, onload ë“±)

**[ íŠ¹ì • HTML ìš”ì†Œì—ë§Œ í•œì •ì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ì–´íŠ¸ë¦¬ë·°íŠ¸ ]**

 type, value, checked ì–´íŠ¸ë¦¬ë·°íŠ¸ ë“±



ë¯¸ë˜ì˜ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë‹¤ìŒì— ì´ë²¤íŠ¸ê°€ ì§„í–‰ë˜ì–´ì•¼ í•œë‹¤. 

ê·¸ëŸ¼ ë¯¸ë˜ì˜ ì‚¬ìš©ìê°€ ì–¸ì œ í• ì§€ ì–´ë–»ê²Œ í™•ì¸í• ê¹Œ? ë‚˜ ë§ê³  ë¸Œë¼ìš°ì €ëŠ” 24ì‹œê°„ ì•ˆìê³  ìˆê¸°ë•Œë¬¸ì— ë¸Œë¼ìš°ì €í•œí…Œ ë§¡ê¸´ë‹¤. 

ë¸Œë¼ìš°ì €ëŠ” ì–´ë–»ê²Œ í™•ì¸í• ê¹Œ?

```html
<!DOCTYPE html>
<html>
<body>
  <input id="user" type="text" value="ungmo2">
  <script>
    // attribute í”„ë¡œí¼í‹°ëŠ” ìš”ì†Œ ë…¸ë“œì˜ ëª¨ë“  ì–´íŠ¸ë¦¬ë·°íŠ¸ ë…¸ë“œì˜ ì°¸ì¡°ê°€ ë‹´ê¸´
    // NamedNodeMap ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
    const { attributes } = document.getElementById('user');
    console.log(attributes); // NamedNodeMap
    console.dir(attributes); // dirë¡œ ì—´ì–´ì„œ í™•ì¸í•´ë³´ê¸°

    // ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ ì·¨ë“
    console.log(attributes.id.value); // user
    console.log(attributes.type.value); // text
    console.log(attributes.value.value); // ungmo2
  </script>
</body>
</html>
```

valueëŠ” ë‘ê°œê°€ ìˆë‹¤. ????

- ì–´íŠ¸ë¦¬ë·°íŠ¸ valueëŠ” ì´ˆê¸°ê°’ì´ë‹¤.
- í”„ë¡œí¼í‹° valueëŠ” í˜„ì¬ ìƒíƒœ ê°’ì´ë‹¤.

```html
<!DOCTYPE html>
<html>
<body>
  <input id="user" type="text" value="ungmo2">
  <script>
    const $input = document.getElementById('user');

    // value ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ì„ ì·¨ë“
    const inputValue = $input.getAttribute('value');
    console.log(inputValue); // ungmo2

    // value ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ì„ ë³€ê²½
    $input.setAttribute('value', 'foo');
    console.log($input.getAttribute('value')); // foo
  </script>
</body>
</html>
```

ë¯¸ë˜ì— ì´ë²¤íŠ¸ë¥¼ ì¡ì•„ì•¼í•¨. í”„ë¡œí¼í‹°ëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ì™€ ê°™ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ì–´íŠ¸ë¦¬ë·°íŠ¸ëŠ” ì¼ë¶€ë¡œ ë°”ê¾¸ì§€ ì•ŠëŠ”í•œ ë³€í•˜ì§€ì•ŠëŠ”ë‹¤. í”„ë¡œí¼í‹°ëŠ” ì‚¬ìš©ìê°€ ìƒíƒœë¥¼ ë°”ê¾¸ë©´ ìë™ìœ¼ë¡œ ë°”ë€ë‹¤????

- ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ ì°¸ì¡° `attributes.id.value` 
- 

ë¦¬ë¡œë“œ = ìƒˆë¡œìš´ ì£¼ì†Œê°’ì„ ìš”ì²­í•œë‹¤.(ì •í™•íˆëŠ” ìºì‰¬ë•Œë¬¸ì— ì•„ë‹ˆì§€ë§Œ)

valueëŠ” ì–´íŠ¸ë¦¬ë·°íŠ¸ì—ë„ ìˆê³  í”„ë¡œí¼í‹°ì—ë„ ìˆë‹¤.



##### 7.3.3 HTML ì–´íŠ¸ë¦¬ë·°íŠ¸ì™€ DOM í”„ë¡œí¼í‹°ì˜ ëŒ€ì‘ ê´€ê³„

`class = " foo bar"`

- `className` => "foo bar"
- `classList` => ìë£Œêµ¬ì¡°ë¡œ ê°€ì§€ê³  ìˆìŒ



##### 7.3.4. DOM í”„ë¡œí¼í‹° ê°’ì˜ íƒ€ì…

```html
<!DOCTYPE html>
<html>
<body>
  <input type="checkbox" checked>
  <script>
    const $checkbox = document.querySelector('input[type=checkbox]');

    // getAttribute ë©”ì„œë“œë¡œ ì·¨ë“í•œ ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ì€ ì–¸ì œë‚˜ ë¬¸ìì—´ì´ë‹¤.
    console.log($checkbox.getAttribute('checked')); // ''

    // ìš”ì†Œ ë…¸ë“œì˜ í”„ë¡œí¼í‹°ë¡œ ì·¨ë“í•œ ìƒíƒœ ê°’ì€ ë¬¸ìì—´ì´ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.
    console.log($checkbox.checked); // true
  </script>
</body>
</html>
```



### 8. ìŠ¤íƒ€ì¼

#### 8.1 ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì¡°ì‘

`HTMLElement.prototype.style` í”„ë¡œí¼í‹°ëŠ” setterì™€ getter ëª¨ë‘ ì¡´ì¬í•˜ëŠ” ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¡œì„œ ìš”ì†Œ ë…¸ë“œì˜ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼(inline style)ì„ ì·¨ë“í•˜ê±°ë‚˜ ë³€ê²½í•œë‹¤.

computed - ê³„ì‚°ë˜ì–´ì§„ê²ƒ , ìš”ì†Œì— ë‹¬ë ¤ìˆëŠ” ëª¨ë“  CSSë¥¼ ì¶œë ¥

Style - ê¸°ë³¸ ìŠ¤íƒ€ì¼, ì‚¬ìš©ìê°€ ì¶”ê°€í•œ ìŠ¤íƒ€ì¼



#### 8.2. í´ë˜ìŠ¤ ì¡°ì‘

##### 8.2.1. className

Element.prototype.className í”„ë¡œí¼í‹°ëŠ” setterì™€ getter ëª¨ë‘ ì¡´ì¬í•˜ëŠ” ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¡œì„œ ìš”ì†Œ ë…¸ë“œì˜ class ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ì„ ì·¨ë“í•˜ê±°ë‚˜ ë³€ê²½í•œë‹¤.

##### 8.2.2. classList

Element.prototype.classList í”„ë¡œí¼í‹°ëŠ” class ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ì„ ë‹´ì€ DOMTokenList ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.



#### 8.3. ìš”ì†Œì— ì ìš©ë˜ì–´ ìˆëŠ” CSS ìŠ¤íƒ€ì¼ ì°¸ì¡°

style í”„ë¡œí¼í‹°ëŠ” ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ë§Œì„ ë°˜í™˜í•œë‹¤.

HTML ìš”ì†Œì— ì ìš©ë˜ì–´ ìˆëŠ” ëª¨ë“  CSS ìŠ¤íƒ€ì¼ì„ ì°¸ì¡°í•´ì•¼ í•  ê²½ìš°, getComputedStyle ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤.

window.getComputedStyle(element [, pseudo]) ë©”ì„œë“œëŠ” ìš”ì†Œ ë…¸ë“œ(element)ì— ì ìš©ë˜ì–´ ìˆëŠ” í‰ê°€ëœ ìŠ¤íƒ€ì¼ì„ CSSStyleDeclaration ê°ì²´ì— ë‹´ì•„ ë°˜í™˜í•œë‹¤.

í‰ê°€ëœ ìŠ¤íƒ€ì¼(computed style)ì´ë€ ìµœì¢…ì ìœ¼ë¡œ ì ìš©ëœ ìŠ¤íƒ€ì¼ì„ ë§í•œë‹¤.

```html
<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      color: red;
    }

    .box {
      width: 100px;
      height: 50px;
      background-color: cornsilk;
      border: 1px solid black;
    }
  </style>
</head>
<body>
  <div class="box">Box</div>
  <script>
    const $box = document.querySelector('.box');

    // .box ìš”ì†Œì— ì ìš©ëœ ëª¨ë“  CSS ìŠ¤íƒ€ì¼ì„ ë‹´ê³  ìˆëŠ” CSSStyleDeclaration ë°˜í™˜
    const computedStyle = window.getComputedStyle($box);
    console.log(computedStyle); // CSSStyleDeclaration

    // ì„ë² ë”© ìŠ¤íƒ€ì¼
    console.log(computedStyle.width); // 100px
    console.log(computedStyle.height); // 50px
    console.log(computedStyle.backgroundColor); // rgb(255, 248, 220)
    console.log(computedStyle.border); // 1px solid rgb(0, 0, 0)

    // ìƒì† ìŠ¤íƒ€ì¼
    console.log(computedStyle.color); // rgb(255, 0, 0)
    // ê¸°ë³¸ ìŠ¤íƒ€ì¼
    console.log(computedStyle.display); // block
  </script>
</body>
</html>
```





